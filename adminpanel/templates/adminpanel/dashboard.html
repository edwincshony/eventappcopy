{% extends 'accounts/base.html' %}

{% block title %}Admin Dashboard - EventApp{% endblock %}

{% block content %}

<div class="container-fluid">

    <!-- Page Heading -->
    <div class="row mb-4">
        <div class="col-12">
            <h2 class="fw-bold">Admin Dashboard</h2>
            <p class="text-muted">Monitor and manage the platform efficiently.</p>

            <div class="d-flex gap-2 mt-3">
                <a href="{% url 'adminpanel:pending_approvals' %}" 
                   class="btn btn-warning shadow-sm">
                    Pending Approvals ({{ pending_approvals }})
                </a>

                <a href="{% url 'adminpanel:activities' %}" 
                   class="btn btn-info text-white shadow-sm">
                    View Activities
                </a>
            </div>
        </div>
    </div>

    <!-- First Stats Row -->
    <div class="row g-4">

        <div class="col-md-3">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-body text-center bg-primary text-white rounded">
                    <h6 class="text-uppercase small">Total Users</h6>
                    <h2 class="fw-bold">{{ total_users }}</h2>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-body text-center bg-success text-white rounded">
                    <h6 class="text-uppercase small">Hosts</h6>
                    <h2 class="fw-bold">{{ total_hosts }}</h2>
                    <a href="{% url 'adminpanel:user_list' 'host' %}" class="btn btn-light btn-sm mt-2 shadow-sm">
                        Manage
                    </a>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-body text-center bg-info text-white rounded">
                    <h6 class="text-uppercase small">Guests</h6>
                    <h2 class="fw-bold">{{ total_guests }}</h2>
                    <a href="{% url 'adminpanel:user_list' 'guest' %}" class="btn btn-light btn-sm mt-2 shadow-sm">
                        Manage
                    </a>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-body text-center bg-warning text-white rounded">
                    <h6 class="text-uppercase small">Planners</h6>
                    <h2 class="fw-bold">{{ total_planners }}</h2>
                    <a href="{% url 'adminpanel:user_list' 'planner' %}" class="btn btn-light btn-sm mt-2 shadow-sm">
                        Manage
                    </a>
                </div>
            </div>
        </div>

    </div>

    <!-- Second Stats Row -->
    <div class="row g-4 mt-2">

        <div class="col-md-3">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-body text-center bg-secondary text-white rounded">
                    <h6 class="text-uppercase small">Recent Registrations</h6>
                    <p class="small text-white-50 mb-1">(Past 30 Days)</p>
                    <h2 class="fw-bold">{{ recent_registrations }}</h2>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-body text-center bg-danger text-white rounded">
                    <h6 class="text-uppercase small">Total Events</h6>
                    <h2 class="fw-bold">{{ total_events }}</h2>
                    <a href="{% url 'adminpanel:event_list' %}" 
                       class="btn btn-light btn-sm mt-2 shadow-sm">
                        Manage
                    </a>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-body text-center bg-dark text-white rounded">
                    <h6 class="text-uppercase small">Total Tickets Sold</h6>
                    <h2 class="fw-bold">{{ total_tickets }}</h2>
                    <a href="{% url 'adminpanel:ticket_history' %}" 
                       class="btn btn-light btn-sm mt-2 shadow-sm">
                        View Tickets
                    </a>
                </div>
            </div>
        </div>

    </div>

</div>

{% endblock %}
